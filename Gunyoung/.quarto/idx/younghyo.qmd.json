{"title":"younghyo","markdown":{"yaml":{"title":"younghyo","format":"html","editor":"visual"},"headingText":"서론","containsRefs":false,"markdown":"\n\n```{r include = F}\ndf <- read.csv(file = '../younghyo/AmongUsData/amongus.csv',\n                header = T)\nlibrary(gmodels)\nlibrary(pROC)\n```\n\n```{r include = F}\nstr(df)\ndf$Team <- as.factor(df$Team)\ndf$Outcome <- factor(ifelse(df$Outcome == 'Win',\n                            1, 0),\n                            levels = c(1, 0),\n                            labels = c(1, 0))\n\ndf$All_Tasks_Completed <- as.factor(df$All_Tasks_Completed)\ndf$Murdered <- as.factor(df$Murdered)\ndf$Ejected <- as.factor(df$Ejected)\n\nstr(df)\n\nx <- df$Team\ny <- df$Outcome\nresult <- data.frame(Team = x, Outcome = y)\n\nhead(result)\n\ncrew <- df[df$Team == 'Crewmate',]\nimposter <- df[df$Team == 'Imposter', ]\n```\n\n\n출처\n\n<https://www.kaggle.com/datasets/ruchi798/among-us-dataset>\n\n![amongus](../younghyo/amongus.png)\n\nMT 등지에서 많이들 플레이되는 마피아 게임을 온라인 게임으로 구현한 게임\n\n최소 4명 \\~ 최대 15명의 플레이어가 진행한다.\n\n-   크루원\n\n    -   참가자들의 정체를 알 수 없다.\n\n    -   '유령을 포함한' 크루원 전원이 모든 임무를 완료하면 승리한다.\n\n    -   모든 임포스터를 투표로 방출하면 승리한다.\n\n-   임포스터\n\n    -   참가자들의 정체를 알 수 있다.\n\n    -   살인 및 투표로 크루원을 제거해서 크루원과 임포스터의 생존 인원의 수를 같게 만들면 승리한다.\n\n    -   방해 공작의 제한 시간이 0이 되면 승리한다.\n\n-   유령\n\n    -   투표로 방출되거나, 살해당할 경우 유령이 된다.\n\n    -   크루원 유령은 여전히 임무를 수행할 수 있다.\n\n    -   임포스터 유령은 여전히 방해공작을 펼칠 수 있다.\n\n## 전처리\n\n![전처리1](../younghyo/python1.png)\n\n![전처리2](../python2.png)\n\n콰르토에서 판다스를 지원하지 않아 주피터로 데이터 전처리 시행\n\n-   csv 1개로 통합\n\n-   열 삭제\n\n-   Game_Length 데이터를 초 단위로 변환\n\n## EDA\n\n```{r include = F}\ncrew_outcome <- table(crew$Outcome)\nimposter_outcome <- table(imposter$Outcome)\nmat1 <- cbind(crew_outcome, imposter_outcome)\n```\n\n```{r}\ngraph1 = barplot(mat1, beside = T,\n                  main = 'Win / Lose',\n                  legend = c('Win', 'Lose'))\n\n```\n\n```{r}\nCrossTable(result$Team, result$Outcome, chisq=T)\n```\n\n## 분석\n\n한 게임 당 평균 임포스터의 비율은 약 20.9%\n\n크루원의 평균 승률: 55.7%\n\n임포스터의 평균 승률: 56.0%\n\n전체 평균 승률: 55.8%\n\n카이스퀘어 검정 결과: 독립적\n\n```{r warning = F}\nlibrary(corrgram)\ncorrgram(df, upper.panel = panel.conf)\n```\n\n## 분석\n\n임무 완료수와 게임 시간은 강한 양의 상관관계\n\n임포스터의 킬수와 게임 시간 간의 상관관계에 대해서\n\n뒤에서 따로 분석 실행\n\n```{r}\nmodel1 <- lm(Game_Length ~ Imposter_Kills,\n             data=imposter) \nsummary(model1)\n```\n\n## 임포스터의 킬수와 게임시간\n\n임포스터의 킬수와 게임시간은 상관관계가 있다.\n\n```{r warning = F}\nCrossTable(imposter$Imposter_Kills, imposter$Outcome,\n           chisq = T)\n```\n\n## 분석(킬수와 승패)\n\n37.5% =\\> 48% =\\> 56.9% =\\> 54.7% =\\> 62.5% =\\> ...\n\n0킬부터 점점 킬수가 많아질수록\n\n임포스터의 승률은 높아진다.\n\n```{r}\nCrossTable(crew$Murdered, crew$Outcome, chisq = T)\n```\n\n## 분석\n\n살해됨 O : 승률 65.9%\n\n살해됨 X : 승률 45.2%\n\n```{r}\nCrossTable(crew$Ejected, crew$Outcome, chisq=T)\n```\n\n```{r}\nCrossTable(imposter$Ejected, imposter$Outcome, chisq=T)\n```\n\n## 분석(방출)\n\n방출됨 X =\\> O\n\n-   크루원: 56.6% =\\> 29.1%\n\n-   임포스터: 66.4% =\\> 7.3%\n\n```{r}\nCrossTable(crew$All_Tasks_Completed, crew$Outcome, chisq = T)\n```\n\n## 분석(전체 임무 완료와 크루원의 승률)\n\n완료: X =\\> O\n\n승률: 52.1% =\\> 60.4%\n\n'크루원 전원'이 전체 임무를 완료해야하기 때문에\n\n내가 전체 임무를 완료했다고 해서 승률이 드라마틱하게 오르지는 않는다.\n\n```{r}\nhist(df$Game_Length, breaks = 40)\n```\n\n```{r}\ncrew.logit <- glm(Outcome ~ Task_Completed +\n                  Game_Length + Sabotages_Fixed +\n                  Ejected + Murdered + All_Tasks_Completed,\n                data = crew,\n                family = binomial(link = 'logit'))\nsummary(crew.logit)\nexp(coef(crew.logit))\n```\n\n## 패배와 관련된 로지스틱 회귀분석(크루원)\n\n방출됨 O, 살해당함 O =\\> 승률 ↓\n\n전체 임무 완료 O, 게임 시간 ↑ =\\> 승률 ↑\n\n```{r}\ncrew$pred <- factor(ifelse(crew.logit$fitted.values <= 0.5,\n                         'Yes', 'No'))\ntable(crew$Outcome, crew$pred)\n```\n\n```{r}\ntab1 <- table(crew$Outcome, crew$pred)\n\nTP <- tab1[1,2]\nTN <- tab1[2,1]\nFP <- tab1[1,1]\nFN <- tab1[2,2]\n\naccuracy_crew <- (TP + TN) / (TP + TN + FP + FN)\naccuracy_crew\n```\n\n정확도: 63%\n\n```{r}\nroc(Outcome ~ crew.logit$fitted.values, data = crew,\n    plot = TRUE, main = 'ROC CURVE', col='tomato')\n```\n\n## 분석\n\nROC 그래프의 AUC가 0.663으로써 0.7 이하이므로 가치가 높지 않다.\n\n```{r}\nimposter.logit <- glm(Outcome ~ Imposter_Kills +\n                  Game_Length + Ejected,\n                data = imposter,\n                family = binomial(link = 'logit'))\nsummary(imposter.logit)\nexp(coef(imposter.logit))\n```\n\n## 패배와 관련된 로지스틱 회귀분석(임포스터)\n\n방출됨 O, 게임시간 ↑ =\\> 승률 ↓\n\n크루원 킬수 ↑ =\\> 승률 ↑\n\n```{r}\nimposter$pred <- factor(ifelse(imposter.logit$fitted.values <= 0.5,'Yes', 'No'))\ntable(imposter$Outcome, imposter$pred)\n```\n\n```{r}\ntab2 <- table(imposter$Outcome, imposter$pred)\n\nTP <- tab2[1,2]\nTN <- tab2[2,1]\nFP <- tab2[1,1]\nFN <- tab2[2,2]\n\naccuracy_imposter <- (TP + TN) / (TP + TN + FP + FN)\naccuracy_imposter\n```\n\n정확도 76.6%\n\n```{r}\nroc(Outcome ~ imposter.logit$fitted.values, data = imposter,\n    plot = TRUE, main = 'ROC CURVE', col='tomato')\n```\n\n## 분석\n\nROC 그래프의 AUC가 0.8328로써 어느정도 가치가 있다.\n\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["style.css"],"output-file":"younghyo.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.38","theme":"cosmo","title":"younghyo","editor":"visual"},"extensions":{"book":{"multiFile":true}}}}}